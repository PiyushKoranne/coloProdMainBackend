<div style="width: 100%;height: 100%;padding: 15px; overflow-y: auto;">
	<div style="padding-bottom:50px;">
		<div style="display: flex; align-items: center;gap: 15px;">
			<h3 style="font-size: 18px;font-weight: 500;">Order Details</h3>
		</div>
		<table class="order-detail-table" cellspacing="0" cellpadding="0" width="100%"
			style="border: 1px solid rgba(0,0,0,0.25);">
			<thead style="border-bottom: 2px solid #d8d8d8;background-color: #fff;">
				<tr>
					<th>
						<div style="display: flex; align-items: center; justify-content: start;padding: 10px;">
							<h3 style="font-size: 13px;margin: 0px;">Field</h3>
						</div>
					</th>
					<th>
						<div style="display: flex; align-items: center; justify-content: start;padding: 10px;">
							<h3 style="font-size: 13px;margin: 0px;">Value</h3>
						</div>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Order Id</td>
					<td>
						<%= order.orderId %>
					</td>
				</tr>
				<tr>
                                        <td>Order Status</td>
                                        <td style="padding:0px;text-transform:uppercase;font-weight:600;color:<%= order.testStatus === 'Testing Complete' ? '#ffffff': order.testStatus === 'Rejected' ? '#ffffff' : '#2271b1' %>;">
						<span style="height:100%;margin:0;display:inline-block;padding:4px 10px;background-color:<%= order.testStatus === 'Testing Complete' ? '#059669': order.testStatus === 'Rejected' ? '#9f1239' : 'transparent' %>;"><%= order.testStatus %></span>
                                        </td>
                                </tr>
				<tr>
					<td>First Name</td>
					<td>
						<%= order.firstName %>
					</td>
				</tr>
				<tr>
					<td>Last Name</td>
					<td style="font-weight: 600;">
						<%= order.lastName %>
					</td>
				</tr>
				<tr>
					<td>D.O.B</td>
					<td>
						<%= order.dob %>
					</td>
				</tr>
				<tr>
					<td>Gender</td>
					<td>
						<%= order.gender %></td>
				</tr>
				<tr>
					<td>Shipping Address</td>
					<td><%= order.streetAddress %></td>
				</tr>
				<tr>
					<td>City</td>
					<td><%= order.city %></td>
				</tr>
				<tr>
					<td>State</td>
					<td><%= order.state %></td>
				</tr>
				<tr>
					<td>ZIP</td>
					<td><%= order.zip %></td>
				</tr>
				<tr>
					<td>Personal Information</td>
					<td>
						<table>
							<tr>
								<td>Phone</td>
								<td><%= order.phone %></td>
							</tr>
							<tr>
								<td>Email</td>
								<td><%= order.email %></td>
							</tr>
							<tr>
								<td>Race</td>
								<td><%= order.race %></td>
							</tr>
							<tr>
								<td>Ethnicity</td>
								<td><%= order.ethnicity %></td>
							</tr>
						</table>
					</td>
				</tr>
			</tbody>
		</table>

		<div style="display: flex; align-items: center;gap: 15px;margin-top: 25px;">
                        <h3 style="font-size: 18px;font-weight: 500;">Test Status : <span style="color:<%= order.testStatus === 'Testing Complete' ? '#16a34a': order.testStatus === 'Rejected' ? '#dc2626' : '#2271b1' %>;"><%= order.testStatus %></span></h3>
                </div>
		<form action="/api/v1/manage/update-order-status" method="post" style="width:30%">
                                                <select name="testStatus" class="form-select" >
                                                        <option <%= order.testStatus === 'In Transit' && 'selected' %>  value="In Transit" >In Transit</option>
                                                        <option <%= order.testStatus === 'Testing Complete' && 'selected' %>  value="Testing Complete" >Testing Complete</option>
                                                        <option <%= order.testStatus === 'Rejected' && 'selected' %>  value="Rejected" >Rejected</option>
                                                </select>
                                                <input type="hidden" name="orderId" value="<%= order._id %>" >
                                                <button class="button-secondary-blue" style="margin-top:15px;background-color:white;font-weight:600">Update</button>
                                                </form>


		<div style="display: flex; align-items: center;gap: 15px;margin-top: 25px;">
                        <h3 style="font-size: 18px;font-weight: 500;">Test Status Notes :</h3>
                </div>
                <form action="/api/v1/manage/update-order-status-notes" method="post" style="width:55%">
			<label for="test-status-notes">Notes</label><br>
			<textarea name="testingStatusNotes"  id="test-status-notes"><%= order.testingStatusNotes %></textarea>
			<input type="hidden" name="orderId" value="<%= order._id %>" >
                        <button class="button-secondary-blue" style="margin-top:15px; background-color:white;font-weight:600">Update</button>
                </form>


		<div style="display: flex; align-items: center;gap: 15px;margin-top: 25px;">
			<h3 style="font-size: 18px;font-weight: 500;">Payment Details</h3>
		</div>
		<table class="order-detail-table" cellspacing="0" cellpadding="0" width="100%"
			style="border: 1px solid rgba(0,0,0,0.25);">
			<thead style="border-bottom: 2px solid #d8d8d8;background-color: #fff;">
				<tr>
					<th>
						<div style="display: flex; align-items: center; justify-content: start;padding: 10px;">
							<h3 style="font-size: 13px;margin: 0px;">Field</h3>
						</div>
					</th>
					<th>
						<div style="display: flex; align-items: center; justify-content: start;padding: 10px;">
							<h3 style="font-size: 13px;margin: 0px;">Value</h3>
						</div>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Payment Method</td>
					<td>
						<%= order.isInvoiced ? "INVOICED": "ONLINE" %>
					</td>
				</tr>
			</tbody>
			<tbody>

			</tbody>
		</table>
	</div>
<script>
window.addEventListener("DOMContentLoaded", ()=>{
	 const textareaElements = document.querySelectorAll('textarea');
console.log('HERE TEXTAREA ELEMENTS',textareaElements);
                        textareaElements.forEach(textarea => {
                                CKEDITOR.replace(textarea, {
                                        on: {
                                                instanceReady: function (evt) {
                                                        evt.editor.textareaName = textarea.getAttribute("name");
                                                }
                                        }
                                });
                        });
})
</script>
</div>
